{"ast":null,"code":"import _slicedToArray from\"/home/soveet/Desktop/Study/DASS/Assignment 1/mern-stack-boilerplate-master (copy)/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import Table from\"@mui/material/Table\";import TableBody from\"@mui/material/TableBody\";import TableCell from\"@mui/material/TableCell\";import TableContainer from\"@mui/material/TableContainer\";import TableHead from\"@mui/material/TableHead\";import TableRow from\"@mui/material/TableRow\";import Paper from\"@mui/material/Paper\";import{useEffect,useState}from\"react\";import ls from\"local-storage\";import axios from\"axios\";import{Button}from\"@mui/material\";import Box from\"@mui/material/Box\";import Stack from\"@mui/material/Stack\";import Chip from\"@mui/material/Chip\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Fav(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),menu=_useState2[0],setMenu=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),sortedmenu=_useState4[0],setSortedMenu=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),refresh=_useState6[0],setRefresh=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),open=_useState8[0],setOpen=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),selectedValue=_useState10[0],setSelectedValue=_useState10[1];// Fill up the rows array with data.\nuseEffect(function(){// Get all documents from the database for item for the particular vendor\naxios.post(\"https://gateway-to-food.herokuapp.com/buyer/getfavourites\",{email:ls.get(\"email\")}).then(function(response){setMenu(response.data);setSortedMenu(response.data);console.log(response.data);}).catch(function(error){console.log(error);});},[refresh]);var handlefavourite=function handlefavourite(key){axios.post(\"https://gateway-to-food.herokuapp.com/buyer/removefavourite\",{email:ls.get(\"email\"),_id:key}).then(function(response){console.log(response);setRefresh(!refresh);}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:650},\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"ItemName\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Image\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"ShopName\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Price\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Veg/Non-Veg\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Tags\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"AddOns\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:sortedmenu.map(function(row){return/*#__PURE__*/_jsxs(TableRow,{sx:{\"&:last-child td, &:last-child th\":{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:row.itemname}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"img\",{src:row.image,alt:\"food\",style:{width:\"120px\",height:\"100px\"}})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:row.shopname}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",children:[\"Rs.\",row.price]}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:row.veg===true?\"Veg\":\"Non-Veg\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:row.tags.map(function(tag){return/*#__PURE__*/_jsx(\"div\",{spacing:2,children:/*#__PURE__*/_jsx(Stack,{spacing:2,children:/*#__PURE__*/_jsx(Chip,{label:tag},tag)})},tag);})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:row.addonname.map(function(addon,index){return/*#__PURE__*/_jsx(\"div\",{spacing:2,children:/*#__PURE__*/_jsx(Stack,{spacing:2,children:/*#__PURE__*/_jsx(Chip,{label:\"\".concat(addon,\": Rs.\").concat(row.addonprice[index])},index)})},index);})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:function onClick(){return handlefavourite(row._id);},children:\"Remove from Favourites\"})})]},row._id);})})]})})})});}","map":{"version":3,"sources":["/home/soveet/Desktop/Study/DASS/Assignment 1/mern-stack-boilerplate-master (copy)/frontend/src/components/buyer/Favourites.js"],"names":["React","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useEffect","useState","ls","axios","Button","Box","Stack","Chip","Fav","menu","setMenu","sortedmenu","setSortedMenu","refresh","setRefresh","open","setOpen","selectedValue","setSelectedValue","post","email","get","then","response","data","console","log","catch","error","handlefavourite","key","_id","minWidth","map","row","border","itemname","image","width","height","shopname","price","veg","tags","tag","addonname","addon","index","addonprice"],"mappings":"gLAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,EAAP,KAAe,eAAf,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,KAAuB,eAAvB,CACA,MAAOC,CAAAA,GAAP,KAAgB,mBAAhB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CAEA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,C,wFAGA,cAAe,SAASC,CAAAA,GAAT,EAAe,CAC5B,cAAwBP,QAAQ,CAAC,EAAD,CAAhC,wCAAOQ,IAAP,eAAaC,OAAb,eACA,eAAoCT,QAAQ,CAAC,EAAD,CAA5C,yCAAOU,UAAP,eAAmBC,aAAnB,eACA,eAA8BX,QAAQ,CAAC,KAAD,CAAtC,yCAAOY,OAAP,eAAgBC,UAAhB,eAEA,eAAwBb,QAAQ,CAAC,KAAD,CAAhC,yCAAOc,IAAP,eAAaC,OAAb,eACA,eAA0Cf,QAAQ,CAAC,EAAD,CAAlD,0CAAOgB,aAAP,gBAAsBC,gBAAtB,gBAGA;AACAlB,SAAS,CAAC,UAAM,CACd;AACAG,KAAK,CACFgB,IADH,CACQ,2DADR,CACqE,CACjEC,KAAK,CAAElB,EAAE,CAACmB,GAAH,CAAO,OAAP,CAD0D,CADrE,EAIGC,IAJH,CAIQ,SAACC,QAAD,CAAc,CAClBb,OAAO,CAACa,QAAQ,CAACC,IAAV,CAAP,CACAZ,aAAa,CAACW,QAAQ,CAACC,IAAV,CAAb,CACAC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,IAArB,EACD,CARH,EASGG,KATH,CASS,SAACC,KAAD,CAAW,CAChBH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACD,CAXH,EAYD,CAdQ,CAcN,CAACf,OAAD,CAdM,CAAT,CAgBA,GAAMgB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,GAAD,CAAS,CAC7B3B,KAAK,CACFgB,IADH,CACQ,6DADR,CACuE,CACjEC,KAAK,CAAElB,EAAE,CAACmB,GAAH,CAAO,OAAP,CAD0D,CAEjEU,GAAG,CAAED,GAF4D,CADvE,EAKGR,IALH,CAKQ,SAACC,QAAD,CAAc,CAChBE,OAAO,CAACC,GAAR,CAAYH,QAAZ,EACAT,UAAU,CAAC,CAACD,OAAF,CAAV,CACH,CARH,EASGc,KATH,CASS,SAACC,KAAD,CAAW,CACdH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACH,CAXH,EAYD,CAbH,CAgBA,mBACE,kCACE,KAAC,GAAD,wBACE,KAAC,cAAD,EAAgB,SAAS,CAAE7B,KAA3B,uBACE,MAAC,KAAD,EAAO,EAAE,CAAE,CAAEiC,QAAQ,CAAE,GAAZ,CAAX,CAA8B,aAAW,cAAzC,wBACE,KAAC,SAAD,wBACE,MAAC,QAAD,yBACE,KAAC,SAAD,uBADF,cAEE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,mBAFF,cAGE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,sBAHF,cAIE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,mBAJF,cAKE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,yBALF,cAME,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,kBANF,cAQE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,oBARF,cASE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,EATF,GADF,EADF,cAcE,KAAC,SAAD,WACGrB,UAAU,CAACsB,GAAX,CAAe,SAACC,GAAD,qBACd,MAAC,QAAD,EAEE,EAAE,CAAE,CAAE,mCAAoC,CAAEC,MAAM,CAAE,CAAV,CAAtC,CAFN,wBAIE,KAAC,SAAD,EAAW,SAAS,CAAC,IAArB,CAA0B,KAAK,CAAC,KAAhC,UACGD,GAAG,CAACE,QADP,EAJF,cAOE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,uBACE,YACE,GAAG,CAAEF,GAAG,CAACG,KADX,CAEE,GAAG,CAAC,MAFN,CAGE,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAAkBC,MAAM,CAAE,OAA1B,CAHT,EADF,EAPF,cAcE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,UAA2BL,GAAG,CAACM,QAA/B,EAdF,cAeE,MAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,iBAA8BN,GAAG,CAACO,KAAlC,GAfF,cAgBE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,UACGP,GAAG,CAACQ,GAAJ,GAAY,IAAZ,CAAmB,KAAnB,CAA2B,SAD9B,EAhBF,cAmBE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,UACGR,GAAG,CAACS,IAAJ,CAASV,GAAT,CAAa,SAACW,GAAD,qBACZ,YAAK,OAAO,CAAE,CAAd,uBACE,KAAC,KAAD,EAAO,OAAO,CAAE,CAAhB,uBACE,KAAC,IAAD,EAAM,KAAK,CAAEA,GAAb,EAAuBA,GAAvB,CADF,EADF,EAAsBA,GAAtB,CADY,EAAb,CADH,EAnBF,cA4BE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,UACGV,GAAG,CAACW,SAAJ,CAAcZ,GAAd,CAAkB,SAACa,KAAD,CAAQC,KAAR,qBACjB,YAAK,OAAO,CAAE,CAAd,uBACE,KAAC,KAAD,EAAO,OAAO,CAAE,CAAhB,uBAEE,KAAC,IAAD,EACE,KAAK,WAAKD,KAAL,iBAAkBZ,GAAG,CAACc,UAAJ,CAAeD,KAAf,CAAlB,CADP,EAEOA,KAFP,CAFF,EADF,EAAsBA,KAAtB,CADiB,EAAlB,CADH,EA5BF,cAyCE,KAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,uBACE,KAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,KAAK,CAAC,WAFR,CAGE,OAAO,CAAE,yBAAMlB,CAAAA,eAAe,CAACK,GAAG,CAACH,GAAL,CAArB,EAHX,oCADF,EAzCF,GACOG,GAAG,CAACH,GADX,CADc,EAAf,CADH,EAdF,GADF,EADF,EADF,EADF,CA8ED","sourcesContent":["import * as React from \"react\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Paper from \"@mui/material/Paper\";\nimport { useEffect, useState } from \"react\";\nimport ls from \"local-storage\";\nimport axios from \"axios\";\nimport { Button } from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport Stack from \"@mui/material/Stack\";\n\nimport Chip from \"@mui/material/Chip\";\n\n\nexport default function Fav() {\n  const [menu, setMenu] = useState([]);\n  const [sortedmenu, setSortedMenu] = useState([]);\n  const [refresh, setRefresh] = useState(false);\n\n  const [open, setOpen] = useState(false);\n  const [selectedValue, setSelectedValue] = useState(\"\");\n\n\n  // Fill up the rows array with data.\n  useEffect(() => {\n    // Get all documents from the database for item for the particular vendor\n    axios\n      .post(\"https://gateway-to-food.herokuapp.com/buyer/getfavourites\", {\n        email: ls.get(\"email\"),\n      })\n      .then((response) => {\n        setMenu(response.data);\n        setSortedMenu(response.data);\n        console.log(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, [refresh]);\n\n  const handlefavourite = (key) => {\n      axios\n        .post(\"https://gateway-to-food.herokuapp.com/buyer/removefavourite\", {\n            email: ls.get(\"email\"),\n            _id: key\n        })\n        .then((response) => {\n            console.log(response);\n            setRefresh(!refresh);\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n    };\n\n\n  return (\n    <div>\n      <Box>\n        <TableContainer component={Paper}>\n          <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>ItemName</TableCell>\n                <TableCell align=\"center\">Image</TableCell>\n                <TableCell align=\"center\">ShopName</TableCell>\n                <TableCell align=\"center\">Price</TableCell>\n                <TableCell align=\"center\">Veg/Non-Veg</TableCell>\n                <TableCell align=\"center\">Tags</TableCell>\n                {/* Buying Stages */}\n                <TableCell align=\"center\">AddOns</TableCell>\n                <TableCell align=\"center\"></TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {sortedmenu.map((row) => (\n                <TableRow\n                  key={row._id}\n                  sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}\n                >\n                  <TableCell component=\"th\" scope=\"row\">\n                    {row.itemname}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <img\n                      src={row.image}\n                      alt=\"food\"\n                      style={{ width: \"120px\", height: \"100px\" }}\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\">{row.shopname}</TableCell>\n                  <TableCell align=\"center\">Rs.{row.price}</TableCell>\n                  <TableCell align=\"center\">\n                    {row.veg === true ? \"Veg\" : \"Non-Veg\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {row.tags.map((tag) => (\n                      <div spacing={2} key={tag}>\n                        <Stack spacing={2}>\n                          <Chip label={tag} key={tag} />\n                        </Stack>\n                      </div>\n                    ))}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {row.addonname.map((addon, index) => (\n                      <div spacing={2} key={index}>\n                        <Stack spacing={2}>\n                          {/* Addonname and addonprice */}\n                          <Chip\n                            label={`${addon}: Rs.${row.addonprice[index]}`}\n                            key={index}\n                          />\n                        </Stack>\n                      </div>\n                    ))}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <Button\n                      variant=\"contained\"\n                      color=\"secondary\"\n                      onClick={() => handlefavourite(row._id)}\n                    >\n                      Remove from Favourites\n                    </Button>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Box>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}