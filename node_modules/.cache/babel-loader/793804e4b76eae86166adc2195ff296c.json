{"ast":null,"code":"import _slicedToArray from\"/home/soveet/Desktop/Study/DASS/Assignment 1/mern-stack-boilerplate-master (copy)/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import Table from\"@mui/material/Table\";import TableBody from\"@mui/material/TableBody\";import TableCell from\"@mui/material/TableCell\";import TableContainer from\"@mui/material/TableContainer\";import TableHead from\"@mui/material/TableHead\";import TableRow from\"@mui/material/TableRow\";import Paper from\"@mui/material/Paper\";import{useEffect,useState}from\"react\";import ls from\"local-storage\";import axios from\"axios\";import{Button}from\"@mui/material\";import Box from\"@mui/material/Box\";import Stack from\"@mui/material/Stack\";import InputLabel from'@mui/material/InputLabel';import MenuItem from'@mui/material/MenuItem';import FormControl from'@mui/material/FormControl';import Select from'@mui/material/Select';import Adding from\"./AddItem\";import{createTheme}from'@mui/material/styles';import{deepOrange}from\"@mui/material/colors\";import{yellow}from\"@mui/material/colors\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var theme=createTheme({palette:{primary:deepOrange,secondary:yellow}});export default function ShowMenu(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rows=_useState2[0],setRows=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),additem=_useState4[0],setAddItem=_useState4[1];var handleedit=function handleedit(id){ls.set(\"editid\",id);window.location.href=\"/edit\";};var handledelete=function handledelete(id){axios.post('https://gateway-to-food.herokuapp.com/vendor/deletefooditem/',{_id:id}).then(function(res){window.location.reload();}).catch(function(err){console.log(err);});};// Fill up the rows array with data.\nuseEffect(function(){// Get all documents from the database for orders for the particular vendor\naxios.post(\"https://gateway-to-food.herokuapp.com/vendor/fooditems\",{manageremail:ls.get(\"email\")}).then(function(response){setRows(response.data);console.log(response.data);}).catch(function(error){console.log(error);});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",flexDirection:\"column\",children:/*#__PURE__*/_jsx(Stack,{spacing:2,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:function onClick(){return setAddItem(true);},children:\"Add Item\"})})}),additem?/*#__PURE__*/_jsx(Adding,{}):null,/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:650},\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"ItemName\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Image\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Price\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Veg/Non-Veg\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Tags\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"AddOns\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:rows.map(function(row){return/*#__PURE__*/_jsxs(TableRow,{sx:{\"&:last-child td, &:last-child th\":{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:row.itemname}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"img\",{src:row.image,alt:\"food\",style:{width:\"120px\",height:\"100px\"}})}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",children:[\"Rs.\",row.price]}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:row.veg===true?\"Veg\":\"Non-Veg\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-label\",children:\"List\"}),/*#__PURE__*/_jsx(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",label:\"List\",children:row.tags.map(function(tag){return/*#__PURE__*/_jsx(MenuItem,{children:tag},tag);})})]})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-label\",children:\"List\"}),/*#__PURE__*/_jsx(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\"// value={row.addonname}\n,label:\"List\",children:row.addonname.map(function(addon,index){return/*#__PURE__*/_jsxs(MenuItem,{children:[addon,\": Rs.\",row.addonprice[index]]},index);})})]})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\"// pass current row to handleedit\n,onClick:function onClick(){return handleedit(row._id);},children:\"Edit\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\"//handledelete\n,onClick:function onClick(){return handledelete(row._id);},children:\"Delete\"})})]},row._id);})})]})})]});}","map":{"version":3,"sources":["/home/soveet/Desktop/Study/DASS/Assignment 1/mern-stack-boilerplate-master (copy)/frontend/src/components/vendor/Menu.js"],"names":["React","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useEffect","useState","ls","axios","Button","Box","Stack","InputLabel","MenuItem","FormControl","Select","Adding","createTheme","deepOrange","yellow","theme","palette","primary","secondary","ShowMenu","rows","setRows","additem","setAddItem","handleedit","id","set","window","location","href","handledelete","post","_id","then","res","reload","catch","err","console","log","manageremail","get","response","data","error","minWidth","map","row","border","itemname","image","width","height","price","veg","tags","tag","addonname","addon","index","addonprice"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Paper from \"@mui/material/Paper\";\nimport { useEffect, useState } from \"react\";\nimport ls from \"local-storage\";\nimport axios from \"axios\";\nimport { Button } from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport Stack from \"@mui/material/Stack\";\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport Adding from \"./AddItem\";\nimport { createTheme } from '@mui/material/styles';\nimport { deepOrange } from \"@mui/material/colors\";\nimport { yellow } from \"@mui/material/colors\";\n\nconst theme = createTheme({\n  palette: {\n    primary: deepOrange,\n    secondary: yellow,\n  },\n});\n\nexport default function ShowMenu() {\n  const [rows, setRows] = useState([]);\n  const [additem, setAddItem] = useState(false);\n\n  const handleedit = (id) => {\n    ls.set(\"editid\", id);\n    window.location.href = \"/edit\";\n  };\n\n  const handledelete = (id) => {\n    axios\n      .post('https://gateway-to-food.herokuapp.com/vendor/deletefooditem/', {\n        _id: id\n      })\n      .then((res) => {\n        window.location.reload();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  // Fill up the rows array with data.\n  useEffect(() => {\n    // Get all documents from the database for orders for the particular vendor\n    axios\n      .post(\"https://gateway-to-food.herokuapp.com/vendor/fooditems\", {\n        manageremail: ls.get(\"email\"),\n      })\n      .then((response) => {\n        setRows(response.data);\n        console.log(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  return (\n    <div>\n      <Box\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        flexDirection=\"column\"\n      >\n        <Stack spacing={2}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => setAddItem(true)}\n          >\n            Add Item\n          </Button>\n        </Stack>\n      </Box>\n      {additem ? <Adding /> : null}\n      <TableContainer component={Paper}>\n        <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>ItemName</TableCell>\n              <TableCell align=\"center\">Image</TableCell>\n              <TableCell align=\"center\">Price</TableCell>\n              <TableCell align=\"center\">Veg/Non-Veg</TableCell>\n              <TableCell align=\"center\">Tags</TableCell>\n              <TableCell align=\"center\">AddOns</TableCell>\n              <TableCell align=\"center\"></TableCell>\n              <TableCell align=\"center\"></TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row) => (\n              <TableRow\n                key={row._id}\n                sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}\n              >\n                <TableCell component=\"th\" scope=\"row\">\n                  {row.itemname}\n                </TableCell>\n                <TableCell align=\"center\">\n                  <img\n                    src={row.image}\n                    alt=\"food\"\n                    style={{ width: \"120px\", height: \"100px\" }}\n                  />\n                </TableCell>\n                <TableCell align=\"center\">Rs.{row.price}</TableCell>\n                <TableCell align=\"center\">\n                  {row.veg === true ? \"Veg\" : \"Non-Veg\"}\n                </TableCell>\n                <TableCell align=\"center\">\n                <FormControl fullWidth>\n                    <InputLabel id=\"demo-simple-select-label\">List</InputLabel>\n                    <Select\n                      labelId=\"demo-simple-select-label\"\n                      id=\"demo-simple-select\"\n                      label=\"List\"\n                    >\n                      {row.tags.map((tag) => (\n                        <MenuItem key={tag}>{tag}</MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                </TableCell>\n                <TableCell align=\"center\">\n                  <FormControl fullWidth>\n                    <InputLabel id=\"demo-simple-select-label\">List</InputLabel>\n                    <Select\n                      labelId=\"demo-simple-select-label\"\n                      id=\"demo-simple-select\"\n                      // value={row.addonname}\n                      label=\"List\"\n                    >\n                      {/* //map addonname and addonprice simultaneously */}\n                      {row.addonname.map((addon, index) => (\n                        <MenuItem key={index}>\n                          {addon}: Rs.\n                          {row.addonprice[index]}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                </TableCell>\n                <TableCell align=\"center\">\n                  {/* Edit row */}\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    // pass current row to handleedit\n                    onClick={() => handleedit(row._id)}                     \n                  >\n                    Edit\n                  </Button>\n                </TableCell>\n                <TableCell align=\"center\">\n                  <Button variant=\"contained\"\n                    color=\"secondary\"\n                    //handledelete\n                    onClick={() => handledelete(row._id)}\n                  >\n                    Delete\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}