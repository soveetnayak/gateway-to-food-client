{"ast":null,"code":"import _slicedToArray from\"/home/soveet/Desktop/Study/DASS/Assignment 1/mern-stack-boilerplate-master (copy)/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import List from\"@mui/material/List\";import ListItem from\"@mui/material/ListItem\";import ListItemText from\"@mui/material/ListItemText\";import Divider from\"@mui/material/Divider\";import ls from\"local-storage\";import Box from\"@mui/material/Box\";import axios from\"axios\";import{useState}from\"react\";import{useEffect}from\"react\";import{Button,TextField}from\"@mui/material\";import Stack from\"@mui/material/Stack\";import{width}from\"@mui/system\";import{MenuItem}from\"@mui/material\";import Select from\"@mui/material/Select\";import{FormControl,InputLabel}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var style={width:\"100%\",maxWidth:360,bgcolor:\"background.paper\"};export default function MyProfile(){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),managername=_React$useState4[0],setManagername=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),shopname=_React$useState6[0],setShopname=_React$useState6[1];var _React$useState7=React.useState(\"\"),_React$useState8=_slicedToArray(_React$useState7,2),password=_React$useState8[0],setPassword=_React$useState8[1];var _React$useState9=React.useState(\"\"),_React$useState10=_slicedToArray(_React$useState9,2),contact=_React$useState10[0],setContact=_React$useState10[1];var _React$useState11=React.useState(\"\"),_React$useState12=_slicedToArray(_React$useState11,2),age=_React$useState12[0],setAge=_React$useState12[1];var _React$useState13=React.useState(0),_React$useState14=_slicedToArray(_React$useState13,2),batch=_React$useState14[0],setBatch=_React$useState14[1];var _React$useState15=React.useState(\"\"),_React$useState16=_slicedToArray(_React$useState15,2),opentime=_React$useState16[0],setOpentime=_React$useState16[1];var _React$useState17=React.useState(\"\"),_React$useState18=_slicedToArray(_React$useState17,2),closetime=_React$useState18[0],setClosetime=_React$useState18[1];var _React$useState19=React.useState(false),_React$useState20=_slicedToArray(_React$useState19,2),edit=_React$useState20[0],setEdit=_React$useState20[1];var handleedit=function handleedit(){setEdit(true);//make the fields editable and change the defaultValue\n};var handlesave=function handlesave(){setEdit(false);if(ls.get(\"usertype\")===1){//Set values from the text fields\nsetName(document.getElementById(\"name\").value);setContact(document.getElementById(\"contact\").value);setAge(document.getElementById(\"age\").value);// setBatch(document.getElementById(\"batch\").value);\naxios.post(\"https://gateway-to-food.herokuapp.com/user/buyerupdate\",{email:ls.get(\"email\"),name:document.getElementById(\"name\").value,contact:document.getElementById(\"contact\").value,age:document.getElementById(\"age\").value,batch:batch}).then(function(response){console.log(response);}).catch(function(error){console.log(error);});alert(\"Profile Updated\");// window.location.reload();\n}else if(ls.get(\"usertype\")===2){//Set values from the text fields\nsetManagername(document.getElementById(\"managername\").value);console.log(managername);setShopname(document.getElementById(\"shopname\").value);setContact(document.getElementById(\"contactv\").value);setOpentime(document.getElementById(\"opentime\").value);setClosetime(document.getElementById(\"closetime\").value);axios.post(\"https://gateway-to-food.herokuapp.com/user/vendorupdate\",{email:ls.get(\"email\"),managername:document.getElementById(\"managername\").value,shopname:document.getElementById(\"shopname\").value,contact:document.getElementById(\"contactv\").value,opentime:document.getElementById(\"opentime\").value,closetime:document.getElementById(\"closetime\").value}).then(function(response){console.log(response);}).catch(function(error){console.log(error);});alert(\"Profile Updated\");window.location.reload();}};//Use email from local storage top get necessary info from backend\nuseEffect(function(){{//awaiting for backend\nls.get(\"usertype\")===1?axios.post(\"https://gateway-to-food.herokuapp.com/user/buyerdetails\",{email:ls.get(\"email\")}).then(function(response){console.log(ls.get(\"email\"));console.log(response.data);setName(response.data.name);setContact(response.data.contact);setAge(response.data.age);setBatch(response.data.batch);console.log(response.data.batch);}).catch(function(error){console.log(error);}):axios.post(\"https://gateway-to-food.herokuapp.com/user/vendordetails\",{email:ls.get(\"email\")}).then(function(response){setManagername(response.data.managername);setShopname(response.data.shopname);setContact(response.data.contact);setOpentime(response.data.opentime);setClosetime(response.data.closetime);}).catch(function(error){console.log(error);});}},[]);return/*#__PURE__*/_jsx(List,{sx:style,component:\"nav\",\"aria-label\":\"mailbox folders\",children:ls.get(\"usertype\")===1?/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(ListItem,{button:true,children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Name:\"}),/*#__PURE__*/_jsx(TextField,{id:\"name\",name:\"name\",variant:\"outlined\",defaultValue:name,InputProps:{readOnly:!edit}},\"\".concat(Math.floor(Math.random()*1000),\"-min\"))]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(ListItem,{button:true,children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Contact:\"}),/*#__PURE__*/_jsx(TextField,{id:\"contact\",name:\"contact\",variant:\"outlined\",defaultValue:contact,InputProps:{readOnly:!edit}},\"\".concat(Math.floor(Math.random()*1000),\"-min\"))]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(ListItem,{button:true,children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Age:\"}),/*#__PURE__*/_jsx(TextField,{id:\"age\",name:\"age\",variant:\"outlined\",defaultValue:age,InputProps:{readOnly:!edit}},\"\".concat(Math.floor(Math.random()*1000),\"-min\"))]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(ListItem,{button:true,children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Batch:\"}),/*#__PURE__*/_jsx(FormControl,{sx:{m:1,minWidth:240},disabled:!edit,children:/*#__PURE__*/_jsxs(Select//appropriate width\n,{labelId:\"batch-select-label\",id:\"batch\",name:\"batch\",defaultValue:0,value:batch// label=\"Batch\"\n,onChange:function onChange(e){return setBatch(e.target.value);},children:[/*#__PURE__*/_jsx(MenuItem,{value:0,children:\"UG1\"}),/*#__PURE__*/_jsx(MenuItem,{value:1,children:\"UG2\"}),/*#__PURE__*/_jsx(MenuItem,{value:2,children:\"UG3\"}),/*#__PURE__*/_jsx(MenuItem,{value:3,children:\"UG4\"}),/*#__PURE__*/_jsx(MenuItem,{value:4,children:\"UG5\"}),/*#__PURE__*/_jsx(MenuItem,{value:5,children:\"PG1\"}),/*#__PURE__*/_jsx(MenuItem,{value:6,children:\"PG2\"})]})})]}),/*#__PURE__*/_jsx(Divider,{light:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Stack,{spacing:5,direction:\"row\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",disabled:edit,onClick:handleedit,children:\"Edit Profile\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",disabled:!edit,onClick:handlesave,children:\"Save Profile\"})]})]}):/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(ListItem,{button:true,children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Manager Name:\"}),/*#__PURE__*/_jsx(TextField,{id:\"managername\",name:\"managername\",variant:\"outlined\",defaultValue:managername,InputProps:{readOnly:!edit}},\"\".concat(Math.floor(Math.random()*1000),\"-min\"))]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(ListItem,{button:true,children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Shop Name:\"}),/*#__PURE__*/_jsx(TextField,{id:\"shopname\",name:\"shopname\",variant:\"outlined\",defaultValue:shopname,InputProps:{readOnly:true}},\"\".concat(Math.floor(Math.random()*1000),\"-min\"))]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(ListItem,{button:true,children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Contact:\"}),/*#__PURE__*/_jsx(TextField,{id:\"contactv\",name:\"contactv\",variant:\"outlined\",defaultValue:contact,InputProps:{readOnly:!edit}},\"\".concat(Math.floor(Math.random()*1000),\"-min\"))]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(ListItem,{button:true,children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Open Time:\"}),/*#__PURE__*/_jsx(TextField,{id:\"opentime\",name:\"opentime\",variant:\"outlined\",defaultValue:opentime,InputProps:{readOnly:!edit}},\"\".concat(Math.floor(Math.random()*1000),\"-min\"))]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(ListItem,{button:true,children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Close Time:\"}),/*#__PURE__*/_jsx(TextField,{id:\"closetime\",name:\"closetime\",variant:\"outlined\",defaultValue:closetime,InputProps:{readOnly:!edit}},\"\".concat(Math.floor(Math.random()*1000),\"-min\"))]}),/*#__PURE__*/_jsx(Divider,{light:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Stack,{spacing:5,direction:\"row\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",disabled:edit,onClick:handleedit,children:\"Edit Profile\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",disabled:!edit,onClick:handlesave,children:\"Save Profile\"})]})]})});}","map":{"version":3,"sources":["/home/soveet/Desktop/Study/DASS/Assignment 1/mern-stack-boilerplate-master (copy)/frontend/src/components/templates/Profile.js"],"names":["React","List","ListItem","ListItemText","Divider","ls","Box","axios","useState","useEffect","Button","TextField","Stack","width","MenuItem","Select","FormControl","InputLabel","style","maxWidth","bgcolor","MyProfile","name","setName","managername","setManagername","shopname","setShopname","password","setPassword","contact","setContact","age","setAge","batch","setBatch","opentime","setOpentime","closetime","setClosetime","edit","setEdit","handleedit","handlesave","get","document","getElementById","value","post","email","then","response","console","log","catch","error","alert","window","location","reload","data","readOnly","Math","floor","random","m","minWidth","e","target"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Divider from \"@mui/material/Divider\";\nimport ls from \"local-storage\";\nimport Box from \"@mui/material/Box\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { Button, TextField } from \"@mui/material\";\nimport Stack from \"@mui/material/Stack\";\nimport { width } from \"@mui/system\";\nimport { MenuItem } from \"@mui/material\";\nimport Select from \"@mui/material/Select\";\nimport { FormControl,InputLabel } from \"@mui/material\";\n\n\nconst style = {\n  width: \"100%\",\n  maxWidth: 360,\n  bgcolor: \"background.paper\",\n};\n\nexport default function MyProfile() {\n  const [name, setName] = React.useState(\"\");\n  const [managername, setManagername] = React.useState(\"\");\n  const [shopname, setShopname] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [contact, setContact] = React.useState(\"\");\n  const [age, setAge] = React.useState(\"\");\n  const [batch, setBatch] = React.useState(0);\n  const [opentime, setOpentime] = React.useState(\"\");\n  const [closetime, setClosetime] = React.useState(\"\");\n\n  const [edit, setEdit] = React.useState(false);\n\n  const handleedit = () => {\n    setEdit(true);\n    //make the fields editable and change the defaultValue\n  };\n\n  const handlesave = () => {\n    setEdit(false);\n    if (ls.get(\"usertype\") === 1) {\n      //Set values from the text fields\n      setName(document.getElementById(\"name\").value);\n      setContact(document.getElementById(\"contact\").value);\n      setAge(document.getElementById(\"age\").value);\n      // setBatch(document.getElementById(\"batch\").value);\n\n      axios\n        .post(\"https://gateway-to-food.herokuapp.com/user/buyerupdate\", {\n          email: ls.get(\"email\"),\n          name: document.getElementById(\"name\").value,\n          contact: document.getElementById(\"contact\").value,\n          age: document.getElementById(\"age\").value,\n          batch: batch,\n        })\n        .then(function (response) {\n          console.log(response);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n      alert(\"Profile Updated\");\n      // window.location.reload();\n    } else if (ls.get(\"usertype\") === 2) {\n      //Set values from the text fields\n      setManagername(document.getElementById(\"managername\").value);\n      console.log(managername);\n      setShopname(document.getElementById(\"shopname\").value);\n      setContact(document.getElementById(\"contactv\").value);\n      setOpentime(document.getElementById(\"opentime\").value);\n      setClosetime(document.getElementById(\"closetime\").value);\n\n      axios\n        .post(\"https://gateway-to-food.herokuapp.com/user/vendorupdate\", {\n          email: ls.get(\"email\"),\n          managername: document.getElementById(\"managername\").value,\n          shopname: document.getElementById(\"shopname\").value,\n          contact: document.getElementById(\"contactv\").value,\n          opentime: document.getElementById(\"opentime\").value,\n          closetime: document.getElementById(\"closetime\").value,\n        })\n        .then(function (response) {\n          console.log(response);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n      alert(\"Profile Updated\");\n      window.location.reload();\n    }\n  };\n\n  //Use email from local storage top get necessary info from backend\n  useEffect(() => {\n    {\n      //awaiting for backend\n      ls.get(\"usertype\") === 1\n        ? axios \n            .post(\"https://gateway-to-food.herokuapp.com/user/buyerdetails\", {\n              email: ls.get(\"email\"),\n            })\n            .then((response) => {\n              console.log(ls.get(\"email\"));\n              console.log(response.data);\n              setName(response.data.name);\n              setContact(response.data.contact);\n              setAge(response.data.age);\n              setBatch(response.data.batch);\n              console.log(response.data.batch);\n            })\n            .catch(function (error) {\n              console.log(error);\n            })\n        : axios\n            .post(\"https://gateway-to-food.herokuapp.com/user/vendordetails\", {\n              email: ls.get(\"email\"),\n            })\n            .then((response) => {\n              setManagername(response.data.managername);\n              setShopname(response.data.shopname);\n              setContact(response.data.contact);\n              setOpentime(response.data.opentime);\n              setClosetime(response.data.closetime);\n            })\n            .catch(function (error) {\n              console.log(error);\n            });\n    }\n  }, []);\n\n  return (\n    <List sx={style} component=\"nav\" aria-label=\"mailbox folders\">\n      {ls.get(\"usertype\") === 1 ? (\n        <Box>\n          <ListItem button>\n            <ListItemText primary=\"Name:\" />\n            <TextField\n              id=\"name\"\n              name=\"name\"\n              variant=\"outlined\"\n              defaultValue={name}\n              InputProps={{\n                readOnly: !edit,\n              }}\n              key={`${Math.floor(Math.random() * 1000)}-min`}\n            />\n          </ListItem>\n          <Divider />\n          <ListItem button>\n            <ListItemText primary=\"Contact:\" />\n            <TextField\n              id=\"contact\"\n              name=\"contact\"\n              variant=\"outlined\"\n              defaultValue={contact}\n              InputProps={{\n                readOnly: !edit,\n              }}\n              key={`${Math.floor(Math.random() * 1000)}-min`}\n            />\n          </ListItem>\n          <Divider />\n          <ListItem button>\n            <ListItemText primary=\"Age:\" />\n            <TextField\n              id=\"age\"\n              name=\"age\"\n              variant=\"outlined\"\n              defaultValue={age}\n              InputProps={{\n                readOnly: !edit,\n              }}\n              key={`${Math.floor(Math.random() * 1000)}-min`}\n            />\n          </ListItem>\n          <Divider />\n          <ListItem button>\n            <ListItemText primary=\"Batch:\" />\n            <FormControl sx={{ m: 1, minWidth: 240 }} \n            disabled={!edit}\n            >\n              {/* <InputLabel id=\"demo-simple-select-disabled-label\">Batch</InputLabel> */}\n            <Select\n              //appropriate width\n\n              labelId=\"batch-select-label\"\n              id=\"batch\"\n              name=\"batch\"\n              defaultValue = {0}\n              value={batch}\n              // label=\"Batch\"\n              onChange={(e) => setBatch(e.target.value)}\n            >\n              <MenuItem value={0}>UG1</MenuItem>\n              <MenuItem value={1}>UG2</MenuItem>\n              <MenuItem value={2}>UG3</MenuItem>\n              <MenuItem value={3}>UG4</MenuItem>\n              <MenuItem value={4}>UG5</MenuItem>\n              <MenuItem value={5}>PG1</MenuItem>\n              <MenuItem value={6}>PG2</MenuItem>\n            </Select>\n            </FormControl>\n          </ListItem>\n          <Divider light />\n          <br />\n          <br />\n          <br />\n          <Stack spacing={5} direction=\"row\">\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={edit}\n              onClick={handleedit}\n            >\n              Edit Profile\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={!edit}\n              onClick={handlesave}\n            >\n              Save Profile\n            </Button>\n          </Stack>\n        </Box>\n      ) : (\n        <Box>\n          <ListItem button>\n            <ListItemText primary=\"Manager Name:\" />\n            <TextField\n              id=\"managername\"\n              name=\"managername\"\n              variant=\"outlined\"\n              defaultValue={managername}\n              InputProps={{\n                readOnly: !edit,\n              }}\n              key={`${Math.floor(Math.random() * 1000)}-min`}\n            />\n          </ListItem>\n          <Divider />\n          <ListItem button>\n            <ListItemText primary=\"Shop Name:\" />\n            <TextField\n              id=\"shopname\"\n              name=\"shopname\"\n              variant=\"outlined\"\n              defaultValue={shopname}\n              InputProps={{\n                readOnly: true,\n              }}\n              key={`${Math.floor(Math.random() * 1000)}-min`}\n            />\n          </ListItem>\n          <Divider />\n          <ListItem button>\n            <ListItemText primary=\"Contact:\" />\n            <TextField\n              id=\"contactv\"\n              name=\"contactv\"\n              variant=\"outlined\"\n              defaultValue={contact}\n              InputProps={{\n                readOnly: !edit,\n              }}\n              key={`${Math.floor(Math.random() * 1000)}-min`}\n            />\n          </ListItem>\n          <Divider />\n          <ListItem button>\n            <ListItemText primary=\"Open Time:\" />\n            <TextField\n              id=\"opentime\"\n              name=\"opentime\"\n              variant=\"outlined\"\n              defaultValue={opentime}\n              InputProps={{\n                readOnly: !edit,\n              }}\n              key={`${Math.floor(Math.random() * 1000)}-min`}\n            />\n          </ListItem>\n          <Divider />\n          <ListItem button>\n            <ListItemText primary=\"Close Time:\" />\n            <TextField\n              id=\"closetime\"\n              name=\"closetime\"\n              variant=\"outlined\"\n              defaultValue={closetime}\n              InputProps={{\n                readOnly: !edit,\n              }}\n              key={`${Math.floor(Math.random() * 1000)}-min`}\n            />\n          </ListItem>\n          <Divider light />\n          <br />\n          <br />\n          <br />\n          <Stack spacing={5} direction=\"row\">\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={edit}\n              onClick={handleedit}\n            >\n              Edit Profile\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={!edit}\n              onClick={handlesave}\n            >\n              Save Profile\n            </Button>\n          </Stack>\n        </Box>\n      )}\n    </List>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}